# ✅ 현재 자동화된 부분

> 프로젝트에서 **이미 자동화가 구현된 기능들** 목록입니다.

---

## 1. 데이터 수집 자동화

### 다이소 매장 수집
- **파일**: `v2_3_1_collect_yeongdeungpo_daiso.py`
- **자동화 내용**: 다이소 공식 API 호출 → 영등포구 필터링 → DB 저장
- **실행**: `python manage.py v2_3_1_collect_yeongdeungpo_daiso`

### 편의점 수집 (4분면 분할)
- **파일**: `v2_3_2_collect_Convenience_Only.py`
- **자동화 내용**: 
  - 다이소 좌표 기준 4분면 분할 검색
  - API 45개 제한 우회
  - 영등포구 주소 필터링 (`is_strictly_yeongdeungpo`)
  - 중복 제거 (`place_id` 기준 `update_or_create`)
- **실행**: `python manage.py v2_3_2_collect_Convenience_Only`

### 공공데이터 수집
- **파일**: `openapi_1.py`, `openapi_2.py`
- **자동화 내용**:
  - 서울시 OpenAPI 자동 호출
  - 좌표계 변환 (EPSG:5174 → EPSG:4326)
  - DB 저장
- **실행**: 
  ```bash
  python manage.py openapi_1  # 휴게음식점 인허가
  python manage.py openapi_2  # 담배소매업 인허가
  ```

---

## 2. 데이터 검증 자동화

### 폐업 판별 로직
- **파일**: `check_store_closure.py`
- **자동화 내용**:
  - 3가지 데이터셋 자동 비교 (이름/주소/좌표)
  - OR 조건 매칭: 1개라도 매칭되면 "정상"
  - 결과 자동 분류 및 DB 저장 (`StoreClosureResult`)
  - CSV 자동 생성 (`store_closure_result.csv`)
- **실행**: `python manage.py check_store_closure`

### 데이터 정규화
- **자동화 내용**:
  - 이름 정규화: `normalize_name()` - 공백/특수문자 제거
  - 주소 정규화: `extract_road_address()` - 도로명 추출
  - 좌표 반올림: `round_coord()` - 소수점 4자리

---

## 3. 인프라 자동화

### Docker Compose
- **파일**: `docker-compose.yml`
- **자동화 내용**:
  - PostgreSQL + PostGIS 자동 설정
  - Django 서버 자동 시작
  - 볼륨 마운트로 데이터 영속성 보장
- **실행**: `docker compose up -d`

### DB 마이그레이션
- **자동화 내용**: Django migrations로 스키마 변경 자동 관리
- **실행**: `python manage.py migrate`

---

## 4. 시각화 자동화

### 웹 맵 렌더링
- **파일**: `views.py` → `store_closure_map_view()`
- **자동화 내용**:
  - CSV 데이터 자동 로드
  - JSON 변환 후 템플릿 전달
  - 카카오맵에 마커 자동 표시 (정상: 🔵 / 폐업: 🔴)
- **접속**: `http://127.0.0.1:8000/store-closure/`

---

## 📊 요약

| 영역 | 자동화 수준 | 설명 |
|------|-------------|------|
| 데이터 수집 | ✅ 완료 | Django Command로 일괄 실행 |
| 데이터 정규화 | ✅ 완료 | 함수로 자동 처리 |
| 교차 검증 | ✅ 완료 | 3종 데이터 자동 비교 |
| 결과 저장 | ✅ 완료 | DB + CSV 자동 생성 |
| 지도 시각화 | ✅ 완료 | 웹 페이지 자동 렌더링 |
| 컨테이너화 | ✅ 완료 | Docker Compose |
